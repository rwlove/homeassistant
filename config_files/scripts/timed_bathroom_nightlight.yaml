timed_bathroom_nightlight:
  alias: "Motion Detected: Cancel Existing Off-Timer, Turn On Bathroom Lights and Start Off-Timer"
  sequence:
    # Cancel old timer
    - service: script.turn_off
      data:
        entity_id: script.bathroom_timer_off
    - service: homeassistant.turn_on
      data:
        entity_id: group.bathroom_lights
    - service: script.turn_on
      data:
        entity_id: script.bathroom_timer_off

bathroom_timer_off:
  alias: "Wait 20 Minutes then Turn Off Bathroom Lights"
  sequence:
    - delay:
        minutes: 20
    - service: homeassistant.turn_off
      data:
        entity_id: group.bathroom_lights